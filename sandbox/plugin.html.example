<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Video.js Sandbox</title>

  <link href="../src/css/video-js.css" rel="stylesheet" type="text/css">

  <!--[if IE]>
    <script src="https://getfirebug.com/releases/lite/1.4/firebug-lite.js"></script>
  <!--<![endif]-->

  <!-- GENERATED LIST OF SOURCE FILES -->
  <script src="../build/files/sourcelist.js"></script>

  <script>
    (function(){

      // Load source list generated by build script
      if (!sourcelist) {
        console.log('run `grunt` to generate source list');
      } else {
        var root = '../';

        for (var i = 0; i < sourcelist.length; i++) {
          document.write( "<script src='" + root + sourcelist[i] + "'><\/script>" );
        }
      }

      // Easy access to test Flash over HTML5. Add ?flash to URL
      if (window.location.href.indexOf("?flash") !== -1) {
        videojs.options.techOrder = ["Flash"];
        videojs.options.flash.swf = "../src/swf/video-js.swf";
      }

    })()
  </script>

  <script type="text/javascript" charset="utf-8">
    // Easy access to test Flash over HTML5. Add ?flash to URL
    if (window.location.href.indexOf("?flash") !== -1) {
      videojs.options.techOrder = ["flash"];
      videojs.options.flash.swf = "../src/swf/video-js.swf";
    }
  </script>

</head>
<body>
  <p style="background-color:#eee; border: 1px solid #777; padding: 10px; font-size: .8em; line-height: 1.5em; font-family: Verdana, sans-serif;">This page shows you how to create, register and initialize a Video.js plugin.</p>

  <video id="vid1" class="video-js vjs-default-skin" controls preload="auto" width="640" height="264"
      poster="http://video-js.zencoder.com/oceans-clip.png"
      data-setup='{}'>
    <source src="http://video-js.zencoder.com/oceans-clip.mp4" type='video/mp4'>
    <source src="http://video-js.zencoder.com/oceans-clip.webm" type='video/webm'>
    <source src="http://video-js.zencoder.com/oceans-clip.ogv" type='video/ogg'>
    <p>Video Playback Not Supported</p>
  </video>

  <script>
    (function() {
      var video, progressed;

      // create a really simple plugin
      // this one just logs the buffered percentage to the console whenever
      // more data is downloaded
      progressed = function(options) {
        this.on('progress', function(e) {
          console.log(this.bufferedPercent());
        });
      };

      // register the plugin
      vjs.plugin('progressed', progressed);

      // initialize it
      video = vjs('vid1');
      video.progressed();
    })();
  </script>

</body>
</html>
